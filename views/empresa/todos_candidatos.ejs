<%- include('./header') %>

<style>
  .candidatos-container {
    max-width: 1200px;
    margin: 20px auto;
    padding: 20px;
  }

  .candidato-card {
    background: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .candidato-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }

  .candidato-info {
    margin-bottom: 15px;
  }

  .candidato-info p {
    margin: 5px 0;
  }

  .experiencias, .cursos {
    background: #f5f5f5;
    padding: 15px;
    border-radius: 5px;
    margin-top: 10px;
  }

  .experiencia-item, .curso-item {
    margin: 10px 0;
    padding: 10px;
    border-left: 3px solid #F78E0F;
  }

  h2 {
    color: #333;
    margin-bottom: 20px;
  }

  h3 {
    color: #F78E0F;
    margin-bottom: 10px;
  }

  h4 {
    color: #555;
    margin: 10px 0;
  }

  .tag {
    background: #F78E0F;
    color: white;
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 0.9em;
    margin-right: 5px;
  }

  .filtros {
    margin-bottom: 30px;
  }
  
  .form-filtros {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
  }
  
  .filtro-item input,
  .filtro-item select {
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    min-width: 200px;
  }
  
  .filtro-item button {
    background: #F78E0F;
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .pagination {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 30px;
  }
  
  .pagination a {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    text-decoration: none;
    color: #333;
  }
  
  .pagination a.active {
    background: #F78E0F;
    color: white;
    border-color: #F78E0F;
  }
</style>

<style>
  .perfil-candidato-container {
    display: flex;
    justify-content: center;
    padding: 20px;
    min-height: calc(100vh - 100px);
  }

  .perfil-candidato-content {
    background: white;
    padding: 30px;
    border-radius: 8px;
    max-width: 800px;
    width: 100%;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    margin: 20px;
  }

  .perfil-candidato-header {
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #F78E0F;
  }

  .perfil-candidato-header h1 {
    color: #2c3e50;
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .perfil-candidato-section {
    margin-bottom: 30px;
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .perfil-candidato-section h2 {
    color: #333;
    margin-bottom: 20px;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .perfil-candidato-section h2 i {
    color: #F78E0F;
  }

  .perfil-candidato-item {
    margin-bottom: 10px;
    padding: 5px 0;
  }

  .perfil-candidato-lista {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 15px;
  }

  .perfil-candidato-lista-item {
    background: #f9f9f9;
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    border-left: 4px solid #F78E0F;
    transition: transform 0.2s ease;
  }

  .perfil-candidato-lista-item:hover {
    transform: translateX(5px);
  }

  .perfil-candidato-info-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
  }

  .perfil-candidato-info-item i {
    color: #F78E0F;
    width: 20px;
  }

  .perfil-candidato-btn-voltar {
    background-color: #F78E0F;
    color: white;
    padding: 8px 16px;
    border-radius: 4px;
    text-decoration: none;
    display: inline-block;
    margin-top: 20px;
    transition: all 0.3s ease;
    border: none;
    font-weight: 500;
  }

  .perfil-candidato-btn-voltar:hover {
    background-color: #e07d0d;
    text-decoration: none;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }

  /* Responsividade */
  @media (max-width: 768px) {
    .perfil-candidato-content {
      margin: 10px;
      padding: 20px;
    }

    .perfil-candidato-lista {
      grid-template-columns: 1fr;
    }

    .perfil-candidato-header h1 {
      font-size: 1.5rem;
    }
  }

  .experiencia-item {
    background: #f5f5f5;
    padding: 15px;
    margin: 10px 0;
    border-radius: 5px;
    border-left: 4px solid #F78E0F;
  }

  .experiencia-item p {
    margin: 5px 0;
  }

  h3 {
    margin-top: 20px;
    color: #333;
    border-bottom: 2px solid #F78E0F;
    padding-bottom: 5px;
  }
</style>


<style>
  .degrade-header {
    background: linear-gradient(to top right, #0d0b0a, #2c1b17, #5a1e12);
    height: 350px;
    width: 100%;
    border-radius: 0px 0px 77px 77px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .content-degrade-header {
    max-width: 1200px;
    padding: 180px 50px;
    width: 100%;
  }

  .linha-branca {
    height: 1px;
    width: 100%;
    background-color: white;
    margin-bottom: 20px;
  }

  .degrade-breadcrumb {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .degrade-breadcrumb h1 {
    color: white;
    font-size: 47px;
    font-weight: 300;
  }

  .links-bread a {
    text-decoration: none;
    color: white;
    font-size: 16px;
  }

  .links-bread span {
    color: #FF5E00;
  }
</style>
<div class="degrade-header">
  <div class="content-degrade-header">
    <div class="linha-branca"></div>
    <div class="degrade-breadcrumb">
      <div class="links-bread">
        <a href="">Início</a> <span>/</span> <a href="">Área do Candidato</a>
      </div>
      <h1>Área do Candidato</h1>
    </div>
  </div>
</div>


<style>
  .main-dashboard-candidato-novo {
    max-width: 1200px;
    margin: auto;
    padding: 70px 20px;
  }

  .lancar-cursos-novo {
    display: flex;
    gap: 20px;
    margin-bottom: 30px;
  }



  .cabecalho-candidato-novo h1 {
    font-size: 24px;
    margin-bottom: 20px;
  }



  .editar-dados-novo {
    margin-bottom: 20px;
  }

  .editar-dados-novo a {
    background: #F78E0F;
    color: white;
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 5px;
  }

  .meus-dados-novo p {
    margin-bottom: 10px;
  }

  .dashboard-actions {
    margin-top: 30px;
    display: flex;
    gap: 20px;
  }

  .dashboard-actions a {
    background: #F78E0F;
    color: white;
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 5px;
  }
</style>
<style>
  .lancar-cursos-novo {
    border-bottom: 1px solid #E6E7E8;
  }

  .lancar-cursos-novo a {
    text-decoration: none;
    color: #6E7583;
    padding-bottom: 10px;
  }

  .lancar-cursos-novo a:hover {
    color: #F78E0F !important;
  }

  .vigente {
    color: #F78E0F !important;
    border-bottom: 1px solid #F78E0F;
    margin-bottom: -1px;
  }

  .cabecalho-candidato-novo>p:nth-child(1) {
    font-size: 20px;
    font-weight: 500;
    color: #3D4047;
    margin-bottom: 7px;
  }

  .cabecalho-candidato-novo>p:nth-child(2) {
    font-size: 16px;
    color: #6E7583;
    margin-bottom: 23px;
  }

  .campo-dados {
    display: flex;
    border-top: 2px solid #E6E7E8;
    padding: 27px 0px;
  }

  .campo-dados label {
    display: flex;
    width: 320px;
  }

  .campo-dados input {
    width: 550px;
    border: 2px solid #E6E7E8;
    padding: 10px;
    border-radius: 5px;
  }

  .campo-dados textarea {
    width: 550px;
    border: 2px solid #E6E7E8;
    padding: 10px;
    border-radius: 5px;
  }

  .campo-dados select {
    width: 550px;
    border: 2px solid #E6E7E8;
    padding: 10px;
    border-radius: 5px;
  }

  .form-group {
    display: flex;
    border-top: 2px solid #E6E7E8;
    padding: 27px 0px;
  }

  .form-group label {
    display: flex;
    width: 320px;
  }

  .radio-group {
    display: flex;
    gap: 20px;
  }

  .radio-group label {
    width: unset;
  }

  .checkbox-group .radio-item label {
    width: unset;
  }

  .checkbox-group {
    display: flex;
    gap: 50px;
  }

  .radio-item {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .alinha-submit {
    width: 100%;
    display: flex;
    justify-content: flex-end;
  }

  .alinha-submit button {
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 80px;
    padding: 5px 10px;
    background: #FF5E00;
    cursor: pointer;
  }

  .cursos-lancados li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid #E6E7E8;
    padding: 20px 0px;
  }

  .cursos-lancados button {
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 80px;
    padding: 5px 10px;
    background: #FF5E00;
    cursor: pointer;
  }

  .minhas-exp-registro li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid #E6E7E8;
    padding: 20px 0px;
  }

  .minhas-exp-registro button {
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 80px;
    padding: 5px 10px;
    background: #FF5E00;
    cursor: pointer;
  }

  .minhas-exp-registro h2 {
    font-size: 20px;
    font-weight: 500;
    color: #3D4047;
    margin-bottom: 7px;
  }
  .filtro-item {
    max-width: 150px;
  }
  .filtro-item input {
    height: 19px;
  }
  @media (max-width: 768px) {
    .checkbox-group {
      flex-wrap: wrap;
      gap: 5px;
    }

    .degrade-breadcrumb {
      flex-wrap: wrap;
      gap: 10px;
    }

    .minhas-exp-registro li {
      flex-wrap: wrap;
      gap: 20px;
    }

    .minhas-exp-registro {
      padding-top: 35px;
    }
    .main-dashboard-candidato-novo, .perfil-candidato-container {
      padding: 0px;
    }
    .perfil-candidato-content {
      padding: 20px 0px;
    }
    .meus-dados-novo {
      padding: 30px 20px;
    }
    .filtros form {
      flex-direction: column;
    }
    .filtro-item {
      width: 100%;
    max-width: 300px;
    }
    .filtro-item input, .filtro-item select {
      width: 100%;
    }
  }
</style>
<section class="candidato-superior-novo">
  <div class="main-dashboard-candidato-novo">
    

    
    <div class="meus-dados-novo">
  <h2>Todos os Candidatos</h2>

  <div class="filtros">
    <form action="/empresa/todos-candidatos" method="GET" class="form-filtros">
      <div class="filtro-item">
        <input type="text" name="busca" placeholder="Buscar candidatos..." value="<%= busca %>">
      </div>

      <div class="filtro-item">
        <select name="pcd">
          <option value="">Todos os Candidatos</option>
          <option value="Sim" <%= pcd === 'Sim' ? 'selected' : '' %>>Candidatos PCD</option>
          <option value="Não" <%= pcd === 'Não' ? 'selected' : '' %>>Candidatos não PCD</option>
        </select>
      </div>

      <div class="filtro-item">
        <select name="uf">
          <option value="">Todos os Estados</option>
          <option value="AC" <%= uf === 'AC' ? 'selected' : '' %>>Acre</option>
          <option value="AL" <%= uf === 'AL' ? 'selected' : '' %>>Alagoas</option>
          <option value="AP" <%= uf === 'AP' ? 'selected' : '' %>>Amapá</option>
          <option value="AM" <%= uf === 'AM' ? 'selected' : '' %>>Amazonas</option>
          <option value="BA" <%= uf === 'BA' ? 'selected' : '' %>>Bahia</option>
          <option value="CE" <%= uf === 'CE' ? 'selected' : '' %>>Ceará</option>
          <option value="DF" <%= uf === 'DF' ? 'selected' : '' %>>Distrito Federal</option>
          <option value="ES" <%= uf === 'ES' ? 'selected' : '' %>>Espírito Santo</option>
          <option value="GO" <%= uf === 'GO' ? 'selected' : '' %>>Goiás</option>
          <option value="MA" <%= uf === 'MA' ? 'selected' : '' %>>Maranhão</option>
          <option value="MT" <%= uf === 'MT' ? 'selected' : '' %>>Mato Grosso</option>
          <option value="MS" <%= uf === 'MS' ? 'selected' : '' %>>Mato Grosso do Sul</option>
          <option value="MG" <%= uf === 'MG' ? 'selected' : '' %>>Minas Gerais</option>
          <option value="PA" <%= uf === 'PA' ? 'selected' : '' %>>Pará</option>
          <option value="PB" <%= uf === 'PB' ? 'selected' : '' %>>Paraíba</option>
          <option value="PR" <%= uf === 'PR' ? 'selected' : '' %>>Paraná</option>
          <option value="PE" <%= uf === 'PE' ? 'selected' : '' %>>Pernambuco</option>
          <option value="PI" <%= uf === 'PI' ? 'selected' : '' %>>Piauí</option>
          <option value="RJ" <%= uf === 'RJ' ? 'selected' : '' %>>Rio de Janeiro</option>
          <option value="RN" <%= uf === 'RN' ? 'selected' : '' %>>Rio Grande do Norte</option>
          <option value="RS" <%= uf === 'RS' ? 'selected' : '' %>>Rio Grande do Sul</option>
          <option value="RO" <%= uf === 'RO' ? 'selected' : '' %>>Rondônia</option>
          <option value="RR" <%= uf === 'RR' ? 'selected' : '' %>>Roraima</option>
          <option value="SC" <%= uf === 'SC' ? 'selected' : '' %>>Santa Catarina</option>
          <option value="SP" <%= uf === 'SP' ? 'selected' : '' %>>São Paulo</option>
          <option value="SE" <%= uf === 'SE' ? 'selected' : '' %>>Sergipe</option>
          <option value="TO" <%= uf === 'TO' ? 'selected' : '' %>>Tocantins</option>
        </select>
      </div>

      <div class="filtro-item">
        <select name="escolaridade">
          <option value="">Todas Escolaridades</option>
          <option value="Ensino fundamental incompleto" <%= escolaridade === 'Ensino fundamental incompleto' ? 'selected' : '' %>>Ensino fundamental incompleto</option>
          <option value="Ensino fundamental completo" <%= escolaridade === 'Ensino fundamental completo' ? 'selected' : '' %>>Ensino fundamental completo</option>
          <option value="Ensino médio incompleto" <%= escolaridade === 'Ensino médio incompleto' ? 'selected' : '' %>>Ensino médio incompleto</option>
          <option value="Ensino médio completo" <%= escolaridade === 'Ensino médio completo' ? 'selected' : '' %>>Ensino médio completo</option>
          <option value="Ensino superior incompleto" <%= escolaridade === 'Ensino superior incompleto' ? 'selected' : '' %>>Ensino superior incompleto</option>
          <option value="Ensino superior completo" <%= escolaridade === 'Ensino superior completo' ? 'selected' : '' %>>Ensino superior completo</option>
          <option value="Pós graduação incompleta" <%= escolaridade === 'Pós graduação incompleta' ? 'selected' : '' %>>Pós-graduação incompleta</option>
          <option value="Pós graduação completa" <%= escolaridade === 'Pós graduação completa' ? 'selected' : '' %>>Pós-graduação completa</option>
        </select>
      </div>

      <div class="filtro-item">
        <select name="idioma">
          <option value="">Todos os Idiomas</option>
          <option value="Português" <%= idioma === 'Português' ? 'selected' : '' %>>Português</option>
          <option value="Inglês" <%= idioma === 'Inglês' ? 'selected' : '' %>>Inglês</option>
          <option value="Espanhol" <%= idioma === 'Espanhol' ? 'selected' : '' %>>Espanhol</option>
          <option value="Francês" <%= idioma === 'Francês' ? 'selected' : '' %>>Francês</option>
          <option value="Alemão" <%= idioma === 'Alemão' ? 'selected' : '' %>>Alemão</option>
          <option value="Mandarim" <%= idioma === 'Mandarim' ? 'selected' : '' %>>Mandarim</option>
          <option value="Japonês" <%= idioma === 'Japonês' ? 'selected' : '' %>>Japonês</option>
          <option value="Árabe" <%= idioma === 'Árabe' ? 'selected' : '' %>>Árabe</option>
        </select>
      </div>

      <div class="filtro-item">
        <select name="cnh">
          <option value="">Todas CNHs</option>
          <option value="A" <%= cnh === 'A' ? 'selected' : '' %>>CNH A</option>
          <option value="B" <%= cnh === 'B' ? 'selected' : '' %>>CNH B</option>
          <option value="C" <%= cnh === 'C' ? 'selected' : '' %>>CNH C</option>
          <option value="D" <%= cnh === 'D' ? 'selected' : '' %>>CNH D</option>
          <option value="E" <%= cnh === 'E' ? 'selected' : '' %>>CNH E</option>
        </select>
      </div>

      <div class="filtro-item">
        <button type="submit">Filtrar</button>
      </div>
    </form>
  </div>

  <% if (candidatos && candidatos.length > 0) { %>
    <% candidatos.forEach(candidato => { %>
      <div class="candidato-card">
        <div class="candidato-header">
          <h3><%= candidato.nomeCompleto %></h3>
        </div>

        <div class="candidato-info">
          <p><strong>Email:</strong> <%= candidato.email %></p>
          <p><strong>Telefone:</strong> <%= candidato.telefone %></p>
          <p><strong>Localização:</strong> <%= candidato.cidade %>/<%= candidato.uf %></p>
          <% if (candidato.escolaridade) { %>
            <p><strong>Escolaridade:</strong> <%= candidato.escolaridade %></p>
          <% } %>
          <% if (candidato.idiomas && candidato.idiomas.length > 0) { %>
            <p><strong>Idiomas:</strong> <%= candidato.idiomas.join(', ') %></p>
          <% } %>
          <p><strong>PCD:</strong> <%= candidato.pcd || 'Não' %></p>
          <% if (candidato.cnh && candidato.cnh.length > 0) { %>
            <p><strong>CNH:</strong> <%= candidato.cnh.join(', ') %></p>
          <% } %>
        </div>

        <% if (candidato.experiencias && candidato.experiencias.length > 0) { %>
          <div class="experiencias">
            <h4>Experiências Profissionais</h4>
            <% candidato.experiencias.forEach(exp => { %>
              <div class="experiencia-item">
                <p><strong>Empresa:</strong> <%= exp.empresa %></p>
                <p><strong>Cargo:</strong> <%= exp.cargo %></p>
                <p><strong>Função:</strong> <%= exp.funcao %></p>
                <p><strong>Período:</strong> 
                  <%= new Date(exp.dataEntrada).toLocaleDateString('pt-BR') %> - 
                  <%= exp.dataSaida ? new Date(exp.dataSaida).toLocaleDateString('pt-BR') : 'Atual' %>
                </p>
              </div>
            <% }); %>
          </div>
        <% } %>

        <% if (candidato.cursos && candidato.cursos.length > 0) { %>
          <div class="cursos">
            <h4>Cursos</h4>
            <% candidato.cursos.forEach(curso => { %>
              <div class="curso-item">
                <p><strong>Curso:</strong> <%= curso.curso %></p>
                <p><strong>Instituição:</strong> <%= curso.instituicao %></p>
                <p><strong>Período:</strong> 
                  <%= new Date(curso.dataInicio).toLocaleDateString('pt-BR') %> - 
                  <%= curso.dataConclusao ? new Date(curso.dataConclusao).toLocaleDateString('pt-BR') : 'Em andamento' %>
                </p>
              </div>
            <% }); %>
          </div>
        <% } %>
      </div>
    <% }); %>
  <% } else { %>
    <p>Nenhum candidato encontrado.</p>
  <% } %>

  <% if (totalPages > 1) { %>
    <div class="pagination">
      <% for(let i = 1; i <= totalPages; i++) { %>
        <a href="/empresa/todos-candidatos?page=<%= i %>&busca=<%= busca %>&pcd=<%= pcd %>&uf=<%= uf %>&escolaridade=<%= escolaridade %>&idioma=<%= idioma %>&cnh=<%= cnh %>" 
           class="<%= currentPage === i ? 'active' : '' %>">
          <%= i %>
        </a>
      <% } %>
    </div>
  <% } %>
</div>
  </div>
</section>

<%- include('../partials/footer') %> 