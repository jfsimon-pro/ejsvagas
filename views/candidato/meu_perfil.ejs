<%- include('./header') %>

<style>
  .perfil-candidato-container {
    display: flex;
    justify-content: center;
    padding: 20px;
    min-height: calc(100vh - 100px);
    background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
  }

  .perfil-candidato-content {
    background: white;
    padding: 30px;
    border-radius: 8px;
    max-width: 800px;
    width: 100%;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    margin: 20px;
  }

  .perfil-candidato-header {
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #F78E0F;
  }

  .perfil-candidato-header h1 {
    color: #2c3e50;
    font-size: 2rem;
    margin-bottom: 10px;
  }

  .perfil-candidato-section {
    margin-bottom: 30px;
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .perfil-candidato-section h2 {
    color: #333;
    margin-bottom: 20px;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .perfil-candidato-section h2 i {
    color: #F78E0F;
  }

  .perfil-candidato-item {
    margin-bottom: 10px;
    padding: 5px 0;
  }

  .perfil-candidato-lista {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 15px;
  }

  .perfil-candidato-lista-item {
    background: #f9f9f9;
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    border-left: 4px solid #F78E0F;
    transition: transform 0.2s ease;
  }

  .perfil-candidato-lista-item:hover {
    transform: translateX(5px);
  }

  .perfil-candidato-info-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
  }

  .perfil-candidato-info-item i {
    color: #F78E0F;
    width: 20px;
  }

  .perfil-candidato-btn-voltar {
    background-color: #F78E0F;
    color: white;
    padding: 8px 16px;
    border-radius: 4px;
    text-decoration: none;
    display: inline-block;
    margin-top: 20px;
    transition: all 0.3s ease;
    border: none;
    font-weight: 500;
  }

  .perfil-candidato-btn-voltar:hover {
    background-color: #e07d0d;
    text-decoration: none;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }

  /* Responsividade */
  @media (max-width: 768px) {
    .perfil-candidato-content {
      margin: 10px;
      padding: 20px;
    }

    .perfil-candidato-lista {
      grid-template-columns: 1fr;
    }

    .perfil-candidato-header h1 {
      font-size: 1.5rem;
    }
  }
</style>

<div class="perfil-candidato-container">
  <div class="perfil-candidato-content">
    <div class="perfil-candidato-header">
      <h1>Meu Perfil</h1>
    </div>

    <div class="perfil-candidato-section">
      <h2><i class="fas fa-user"></i> Detalhes Pessoais</h2>
      <div class="perfil-candidato-info-item">
        <i class="fas fa-id-card"></i>
        <p><strong>Nome:</strong> <%= candidato.nomeCompleto %></p>
      </div>
      <div class="perfil-candidato-info-item">
        <i class="fas fa-fingerprint"></i>
        <p><strong>CPF:</strong> <%= candidato.cpf %></p>
      </div>
      <div class="perfil-candidato-info-item">
        <i class="fas fa-envelope"></i>
        <p><strong>E-mail:</strong> <%= candidato.email %></p>
      </div>
      <div class="perfil-candidato-info-item">
        <i class="fas fa-phone"></i>
        <p><strong>Telefone:</strong> <%= candidato.telefone %></p>
      </div>
      <div class="perfil-candidato-info-item">
        <i class="fas fa-map-marker-alt"></i>
        <p><strong>Endereço:</strong>
          <%= candidato.logradouro %>, <%= candidato.complemento %>, <%= candidato.numero %>, 
          <%= candidato.bairro %> - <%= candidato.cidade %> / <%= candidato.uf %>, 
          CEP: <%= candidato.cep %>
        </p>
      </div>
    </div>

    <div class="perfil-candidato-section">
      <h2><i class="fas fa-info-circle"></i> Informações Adicionais</h2>
      <p><strong>Idiomas:</strong> 
        <% if (candidato.idiomas && candidato.idiomas.length > 0) { %>
          <%= candidato.idiomas.join(', ') %>
        <% } else { %>
          Nenhum idioma registrado.
        <% } %>
      </p>
      <p><strong>Escolaridade:</strong> <%= candidato.escolaridade || 'Não informado' %></p>
      <p><strong>Disponibilidade:</strong> <%= candidato.disponibilidade || 'Não informado' %></p>
      <p><strong>Ocupação:</strong> <%= candidato.ocupacao || 'Não informado' %></p>
      <p><strong>Tipo de Contrato:</strong> <%= candidato.tipoContrato || 'Não informado' %></p>
      <p><strong>Faixa Salarial:</strong> <%= candidato.faixaSalarial || 'Não informado' %></p>
    </div>

    <div class="perfil-candidato-section">
      <h2><i class="fas fa-graduation-cap"></i> Cursos</h2>
      <% if (candidato.cursos && candidato.cursos.length > 0) { %>
        <ul class="perfil-candidato-lista">
          <% candidato.cursos.forEach(curso => { %>
            <li class="perfil-candidato-lista-item">
              <div class="perfil-candidato-item">
                <strong>Instituição:</strong> <%= curso.instituicao %></div>
              <div class="perfil-candidato-item">
                <strong>Curso:</strong> <%= curso.curso %></div>
              <div class="perfil-candidato-item">
                <strong>Data de Início:</strong> <%= curso.dataInicio.toLocaleDateString() %></div>
              <div class="perfil-candidato-item">
                <% if (curso.dataConclusao) { %>
                  <strong>Data de Conclusão:</strong> <%= curso.dataConclusao.toLocaleDateString() %>
                <% } else { %>
                  <strong>Data de Conclusão:</strong> Em andamento
                <% } %>
              </div>
            </li>
          <% }); %>
        </ul>
      <% } else { %>
        <p>Sem cursos cadastrados.</p>
      <% } %>
    </div>

    <div class="perfil-candidato-section">
      <h2><i class="fas fa-briefcase"></i> Experiências Profissionais</h2>
      <% if (candidato.experienciasProfissionais && candidato.experienciasProfissionais.length > 0) { %>
        <ul>
          <% candidato.experienciasProfissionais.forEach(exp => { %>
            <li>
              <strong>Empresa:</strong> <%= exp.empresa %><br>
              <strong>Cargo:</strong> <%= exp.cargo %><br>
              <strong>Função:</strong> <%= exp.funcao %><br>
              <strong>Data de Entrada:</strong> <%= exp.dataEntrada.toLocaleDateString() %><br>
              <% if (exp.dataSaida) { %>
                <strong>Data de Saída:</strong> <%= exp.dataSaida.toLocaleDateString() %><br>
              <% } else { %>
                <strong>Data de Saída:</strong> Atualmente trabalhando<br>
              <% } %>
              <strong>Motivo de Saída:</strong> <%= exp.motivo %>
            </li>
          <% }); %>
        </ul>
      <% } else { %>
        <p>Sem experiências profissionais cadastradas.</p>
      <% } %>
    </div>

    <a href="/candidato/dashboard" class="perfil-candidato-btn-voltar">
      <i class="fas fa-arrow-left"></i> Voltar para Dashboard
    </a>
  </div>
</div>

<%- include('../partials/footer') %> 