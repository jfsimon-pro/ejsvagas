<%- include('./header') %>
<style>
  .detalhes-vaga-container {
    max-width: 1200px;
    margin: auto;
    padding: 80px 10px;
  }
  .detalhes-vaga-container p {
    margin-bottom: 25px;
  }
  .detalhes-vaga-container strong {
    font-weight: bold;
  }
  .detalhes-vaga-container h1, .detalhes-vaga-container h2 {
    font-weight: bold;
    font-size: 25px;
    margin-bottom: 20px;
  }
  .btn-primary {
    background: #F78E0F;
    color: white;
    border: none;
    font-size: 16px;
    padding: 10px 20px;
  }
  .btn-secondary {
    background: red !important;
    cursor: not-allowed;
    color: white;
    border: none;
    font-size: 16px;
    padding: 10px 20px;
  }
  .btn-voltar {
    color: black;
  }
  .botoes-detalhes-vaga-2 a {
    margin-top: 0px !important;
    color: white;
  }
  .botoes-detalhes-vaga-2 {
    margin-top: 25px;
    display: flex;
    align-items: center;
    gap: 20px;
  }
  .vaga-descrita {
    white-space: pre-line;
    line-height: 1.5;
    margin: 10px 0;
  }
  .btn-voltar:hover {
    background-color: #e07d0e;
  }
  .btn-whatsapp {
    display: inline-block;
    padding: 10px 20px;
    background-color: #25D366;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    margin-left: 10px;
    border: none;
    cursor: pointer;
    font-size: 16px;
  }
  .btn-whatsapp:hover {
    background-color: #128C7E;
    color: white;
    text-decoration: none;
  }
  .btn-whatsapp i {
    margin-right: 8px;
  }
</style>
<style>
  .editar-dados {
      margin-bottom: 12px;
  }

  .vagas-disponiveis h2 {
      color: white;
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 15px;
  }

  .vagas-disponiveis input {
      width: 55%;
      padding: 10px;
  }

  .vagas-disponiveis button {
      background: #F78E0F;
      color: white;
      border: none;
      font-size: 16px;
      padding: 10px 20px;
      border-radius: 0px 20px 20px 0px;
  }

  .pagination {
      display: flex;
      text-align: center;
      width: 100%;
      align-items: center;
      justify-content: center;
      gap: 20px;
  }

  .listavagas {
      display: flex;
      gap: 50px;
      justify-content: space-between;
      flex-direction: column;
  }

  .listavagas li {
      background: white;
      border-top: 2px solid #E6E7E8;
      padding: 27px 0px;
  }

  .listavagas h3 {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
  }

  .listavagas strong {
      font-weight: bold;
  }

  button {
      cursor: pointer;
  }

  .listavagas li p {
      margin-bottom: 7px;
  }

  .vagas-candidatadas h2 {
      color: white;
      font-weight: bold;
      font-size: 30px;
      margin-bottom: 25px;
  }

  .vagas-candidatadas li {
      background: white;
      padding: 20px;
  }

  .vagas-candidatadas ul {
      display: flex;
      flex-direction: column;
      gap: 25px;
  }

  .vagas-candidatadas h3 {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 12px;
  }

  .vagas-candidatadas strong {
      font-weight: bold;
  }

  .vagas-candidatadas p {
      margin-bottom: 10px;
  }

  .vagas-aprovadas li {
      background-color: white;
      padding: 20px;
  }

  .vagas-aprovadas h2 {
      color: white;
      font-weight: bold;
      font-size: 30px;
      margin-bottom: 25px;
      margin-top: 50px;
  }

  .vagas-aprovadas h3 {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 12px;
  }

  .vagas-aprovadas p {
      margin-bottom: 10px;
  }

  .vagas-aprovadas strong {
      font-weight: bold;
  }

  .vagas-aprovadas a {
      color: black;
  }

  /* Estilo para o botão de candidatura já realizada */
  .candidated {
      background: red !important;
      color: white;
      border: none;
      cursor: not-allowed;
  }

  .prazo-info {
      margin-top: 10px;
  }

  .prazo {
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
  }

  .prazo.normal {
      background: #2ecc71;
      color: white;
  }

  .prazo.urgente {
      background: #e74c3c;
      color: white;
      animation: pulse 2s infinite;
  }

  @keyframes pulse {
      0% {
          opacity: 1;
      }
      50% {
          opacity: 0.7;
      }
      100% {
          opacity: 1;
      }
  }

  .horario-trabalho {
      background: #404040;
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
      color: #ccc;
  }

  .horario-trabalho strong {
      color: #fff;
      display: block;
      margin-bottom: 8px;
  }

  .horario-trabalho span {
      display: block;
      line-height: 1.6;
      color: #ccc;
      white-space: pre-line;
      margin-left: 10px;
      font-size: 14px;
  }

  .horario-trabalho span br {
      content: "";
      display: block;
      margin-bottom: 5px;
  }
</style>
<style>
  .autocomplete-suggestions {
    border: 1px solid #ccc;
    max-height: 150px;
    overflow-y: auto;
    position: absolute;
    background-color: #fff;
    z-index: 1000;
  }
  .autocomplete-suggestions div {
    padding: 8px;
    cursor: pointer;
  }
  .autocomplete-suggestions div:hover {
    background-color: #f0f0f0;
  }
  .botoes-vagas-disponiveis {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 20px;
  }
  .btn-info {
      color: black;
  }
  .vagas-disponiveis select {
      padding: 10px;
  }
  .filtros form {
      display: flex;
      width: 100%;
  }
  .cbusca {
      width: 100%;
  }
  .cbusca input {
      width: 100% !important;
      border: none;
      padding: 11px;
  }
  .filtro-item select {
      border: none;
      padding: 10px;
  }
  .filtro-item button {
      padding: 10px;
border: none;
background: #FF5E00;
color: white;
border-radius: 0px 20px 20px 0px;
  }
  .filtros {
      padding: 10px 20px;
background: #eaeaea;
border-radius: 80px;
margin-bottom: 30px;
  }
  .filtro-item {
      border: none;
  }
  @media (max-width: 980px) {
      .vagas-disponiveis input {
          width: 93% !important;
      }
      .vagas-disponiveis form {
          margin-bottom: 20px;
          display: flex;
          flex-wrap: wrap;
          flex-direction: column;
      }
      .autocomplete-suggestions {
          position: unset;
      }
      .filtro-item, .filtro-item input, .filtro-item select {
          width: 100%;
      }
      .vagas-disponiveis button {
          border-radius: 0px;
          width: 100%;
      }
      .filtros{
          border-radius: 0px;
      }
      .filtros form {
          flex-wrap: wrap;
      }
      .cbusca {
          max-width: 93%;
      }
      .filtro-item button {
          width: 100%;
          border-radius: 0px;
          margin-bottom: 30px;
      }
  }

</style>

<style>
.degrade-header {
background: linear-gradient(to top right, #0d0b0a, #2c1b17, #5a1e12);
height: 350px;
width: 100%;
border-radius: 0px 0px 77px 77px;
display: flex;
justify-content: center;
align-items: center;
}
.content-degrade-header {
max-width: 1200px;
padding: 180px 50px;
width: 100%;
}
.linha-branca {
height: 1px;
width: 100%;
background-color: white;
margin-bottom: 20px;
}
.degrade-breadcrumb {
display: flex;
justify-content: space-between;
align-items: center;
}
.degrade-breadcrumb h1 {
color: white;
font-size: 47px;
font-weight: 300;
}
.links-bread a {
text-decoration: none;
color: white;
font-size: 16px;
}
.links-bread span {
color: #FF5E00;
}
</style>
<div class="degrade-header">
<div class="content-degrade-header">
<div class="linha-branca"></div>
<div class="degrade-breadcrumb">
  <div class="links-bread">
    <a href="">Início</a> <span>/</span> <a href="">Área do Candidato</a>
  </div>
  <h1>Área do Candidato</h1>
</div>
</div>
</div>


<style>
.main-dashboard-candidato-novo {
max-width: 1200px;
margin: auto;
padding: 70px 20px;
}

.lancar-cursos-novo {
display: flex;
gap: 20px;
margin-bottom: 30px;
}



.cabecalho-candidato-novo h1 {
font-size: 24px;
margin-bottom: 20px;
}



.editar-dados-novo {
margin-bottom: 20px;
}

.editar-dados-novo a {
background: #F78E0F;
color: white;
text-decoration: none;
padding: 10px 20px;
border-radius: 5px;
}

.meus-dados-novo p {
margin-bottom: 10px;
}

.dashboard-actions {
margin-top: 30px;
display: flex;
gap: 20px;
}

.dashboard-actions a {
background: #F78E0F;
color: white;
text-decoration: none;
padding: 10px 20px;
border-radius: 5px;
}
</style>
<style>
.lancar-cursos-novo {
border-bottom: 1px solid #E6E7E8;
}
.lancar-cursos-novo a {
text-decoration: none;
color: #6E7583;
padding-bottom: 10px;
}
.lancar-cursos-novo a:hover {
color: #F78E0F !important;
}
.vigente {
color: #F78E0F !important;
border-bottom: 1px solid #F78E0F;
margin-bottom: -1px;
}
.cabecalho-candidato-novo > p:nth-child(1) {
font-size: 20px;
font-weight: 500;
color: #3D4047;
margin-bottom: 7px;
}
.cabecalho-candidato-novo > p:nth-child(2) {
font-size: 16px;
color: #6E7583;
margin-bottom: 23px;
}

.campo-dados {
display: flex;
border-top: 2px solid #E6E7E8;
padding: 27px 0px;
}

.campo-dados label {
display: flex;
width: 320px;
}
.campo-dados input {
width: 550px;
border: 2px solid #E6E7E8;
padding: 10px;
border-radius: 5px;
}
.campo-dados select {
width: 550px;
border: 2px solid #E6E7E8;
padding: 10px;
border-radius: 5px;
}
.form-group {
display: flex;
border-top: 2px solid #E6E7E8;
padding: 27px 0px;
}
.form-group label {
display: flex;
width: 320px;
}
.radio-group {
display: flex;
gap: 20px;
}
.radio-group label {
width: unset;
}
.checkbox-group .radio-item label {
width: unset;
}
.checkbox-group {
display: flex;
gap: 50px;
}
.radio-item {
display: flex;
align-items: center;
justify-content: center;
}
.alinha-submit {
width: 100%;
display: flex;
justify-content: flex-end;
}
.alinha-submit button {
color: white;
font-size: 16px;
border: none;
border-radius: 80px;
padding: 5px 10px;
background: #FF5E00;
cursor: pointer;
}
.cursos-lancados li {
display: flex;
align-items: center;
justify-content: space-between;
border-bottom: 1px solid #E6E7E8;
padding: 20px 0px;
}
.cursos-lancados button {
color: white;
font-size: 16px;
border: none;
border-radius: 80px;
padding: 5px 10px;
background: #FF5E00;
cursor: pointer;
}
.botoes-vagas-disponiveis button {
padding: 10px;
border: none;
background: #FF5E00;
color: white;
font-size: 16px; 
}
.botoes-vagas-disponiveis a {
padding: 10px;
border: none;
background: #afaeae;
color: white;
text-decoration: none;
font-size: 16px;
}
.botoes-vagas-disponiveis {
padding-top: 20px;
}
@media (max-width: 768px) {
.checkbox-group {
  flex-wrap: wrap;
  gap: 5px;
    }
.degrade-breadcrumb {
  flex-wrap: wrap;
  gap: 10px;
}
}
</style>

<section class="candidato-superior-novo">
<div class="main-dashboard-candidato-novo">



<div class="meus-dados-novo">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<div class="detalhes-vaga-container">
  <h1>Detalhes da Vaga</h1>
  <p><strong>Título:</strong> <%= vaga.titulo %></p>
  <p><strong>Descrição:</strong> <span class="vaga-descrita"><%= vaga.descricao %></span></p>
  <p><strong>Tags:</strong> <%= vaga.tags.join(', ') %></p>
  <p><strong>Cargo/Função:</strong> <%= vaga.cargo %></p>
  <p><strong>Faixa Salarial:</strong> <%= vaga.faixaSalarial %></p>
  <p><strong>Tipo de Contrato:</strong> <%= vaga.tipoContrato %></p>
  <p><strong>Cidade/UF:</strong> <%= vaga.cidade %>/<%= vaga.uf %></p>
  <p><strong>Vaga PCD:</strong> <%= vaga.vagaPcd || 'Não' %></p>
  <% if (vaga.cnh && vaga.cnh.length > 0) { %>
    <p><strong>CNH Necessária:</strong> <%= vaga.cnh.join(', ') %></p>
  <% } %>
  <p><strong>Data Limite:</strong> <%= new Date(vaga.dataLimite).toLocaleDateString('pt-BR') %></p>
  <p><strong>Disponibilidade:</strong> <%= vaga.disponibilidade %></p>
  <p><strong>Horário de Trabalho:</strong> <span class="vaga-descrita"><%- vaga.horarioTrabalho.replace(/\n/g, '<br>') %></span></p>
  <p><strong>Tipo de Trabalho:</strong> <%= vaga.tipoTrabalho %></p>
  <p><strong>Escolaridade:</strong> <%= vaga.escolaridade %></p>
  <% if (vaga.idiomas && vaga.idiomas.length > 0) { %>
    <p><strong>Idiomas:</strong> <%= vaga.idiomas.join(', ') %></p>
  <% } %>
  <p><strong>Benefícios:</strong> <%= vaga.beneficios.join(', ') %></p>
  <h2>Informações da Empresa</h2>
  <p><strong>Empresa:</strong> <%= vaga.empresa.nomeFantasia %></p>

  <div class="botoes-detalhes-vaga-2">
    <% if (jaCandidatado) { %>
      <button class="btn btn-secondary" disabled>Já Candidatado</button>
    <% } else { %>
      <form action="/candidato/candidatar" method="POST">
        <input type="hidden" name="vagaId" value="<%= vaga.id %>">
        <button type="submit" class="btn btn-primary">Candidatar-se</button>
      </form>
    <% } %>
  
    
  
    <% 
      const textoVaga = `Confira esta vaga: ${vaga.titulo} - ${vaga.empresa.nomeFantasia}. Faixa salarial: ${vaga.faixaSalarial}`;
      const urlVaga = `${baseUrl}/candidato/vagas/${vaga.id}/detalhes`;
      const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(textoVaga + '\n\n' + urlVaga)}`;
    %>
    <a href="<%= whatsappUrl %>" target="_blank" class="btn-whatsapp">
      <i class="fab fa-whatsapp"></i>
      Compartilhar no WhatsApp
    </a>
    <a href="/candidato/vagas" class="btn btn-voltar">Voltar</a>
  </div>
</div>
</div>
</div>
</section>
<%- include('../partials/footer') %>